# Prompt-Output è¼¸å‡ºè¨˜éŒ„

æ­¤æª”æ¡ˆè¨˜éŒ„æ‰€æœ‰æ–‡å­—è¼¸å‡ºçš„æ—¥èªŒ,ç”¨æ–¼å¯è¿½æº¯æ€§èˆ‡ç‰ˆæœ¬æ§åˆ¶ã€‚

---

### 2025-12-24T17:47:22Z
- **Scope**: src/backend/database.py, .env.example
- **Prompt**: ç§»é™¤ç¡¬ç·¨ç¢¼çš„åˆå§‹æ•™å¸«å¯†ç¢¼ï¼Œæ”¹ç‚ºå¾ç’°å¢ƒè®Šæ•¸è¼‰å…¥ä»¥ç¬¦åˆå®‰å…¨æŒ‡å—
- **Output**:

#### å®‰å…¨å¼·åŒ–ï¼šæ•æ„Ÿè³‡æ–™å¤–éƒ¨åŒ–

**å•é¡Œæè¿°**
åˆå§‹æ•™å¸«å¸³æˆ¶å¯†ç¢¼ç¡¬ç·¨ç¢¼åœ¨ `database.py` ä¸­ï¼Œé•åå®‰å…¨æŒ‡å—ã€‚æ‡‰å„ªå…ˆå¾ç’°å¢ƒè®Šæ•¸æˆ–éæäº¤çš„è¨­å®šæª”è¼‰å…¥æ•æ„Ÿè³‡æ–™ã€‚

**è§£æ±ºæ–¹æ¡ˆ**

1. **å»ºç«‹ç’°å¢ƒè®Šæ•¸è¼‰å…¥æ©Ÿåˆ¶**
   - æ–°å¢ `_load_initial_teachers()` å‡½å¼
   - å¾ç’°å¢ƒè®Šæ•¸è®€å–æ•™å¸«æ†‘è­‰
   - æä¾›é–‹ç™¼ç”¨çš„é è¨­å€¼ï¼ˆç”¨æ–¼æœ¬åœ°æ¸¬è©¦ï¼‰

2. **ç’°å¢ƒè®Šæ•¸é…ç½®**
   - `TEACHER_1_USERNAME` - ç¬¬ä¸€å€‹æ•™å¸«çš„ä½¿ç”¨è€…åç¨±
   - `TEACHER_1_PASSWORD` - ç¬¬ä¸€å€‹æ•™å¸«çš„å¯†ç¢¼
   - `TEACHER_1_DISPLAY_NAME` - ç¬¬ä¸€å€‹æ•™å¸«çš„é¡¯ç¤ºåç¨±
   - `TEACHER_2_USERNAME` - ç¬¬äºŒå€‹æ•™å¸«çš„ä½¿ç”¨è€…åç¨±
   - `TEACHER_2_PASSWORD` - ç¬¬äºŒå€‹æ•™å¸«çš„å¯†ç¢¼
   - `TEACHER_2_DISPLAY_NAME` - ç¬¬äºŒå€‹æ•™å¸«çš„é¡¯ç¤ºåç¨±

3. **å»ºç«‹ `.env.example` æª”æ¡ˆ**
   - æ–‡æª”åŒ–æ‰€æœ‰ç’°å¢ƒè®Šæ•¸
   - æä¾›é–‹ç™¼è€…é…ç½®ç¯„æœ¬
   - åŒ…å«ç”Ÿç”¢éƒ¨ç½²æŒ‡å—

**ç¨‹å¼ç¢¼è®Šæ›´**

```python
def _load_initial_teachers():
    """
    Load initial teacher credentials from environment variables.

    Uses environment variables for sensitive data to avoid hardcoding passwords.
    Falls back to development defaults if environment variables are not set.
    """
    return [
        {
            "username": os.getenv("TEACHER_1_USERNAME", "ms_rodriguez"),
            "display_name": os.getenv("TEACHER_1_DISPLAY_NAME", "Ms. Rodriguez"),
            "password": os.getenv("TEACHER_1_PASSWORD", "SecurePass123"),
            "role": "teacher"
        },
        # ... ç¬¬äºŒå€‹æ•™å¸« ...
    ]

# åˆå§‹åŒ–è³‡æ–™æ™‚ä½¿ç”¨
initial_teachers = _load_initial_teachers()
```

**å®‰å…¨æ•ˆç›Š**

- âœ… æ•æ„Ÿè³‡æ–™ä¸å†ç¡¬ç·¨ç¢¼åœ¨åŸå§‹ç¢¼ä¸­
- âœ… æ”¯æ´ç’°å¢ƒè®Šæ•¸é…ç½®ï¼Œé©åˆå®¹å™¨åŒ–éƒ¨ç½²
- âœ… é–‹ç™¼ç’°å¢ƒç¶­æŒå¯ç”¨æ€§ï¼ˆå«é è¨­å€¼ï¼‰
- âœ… ç”Ÿç”¢ç’°å¢ƒå¯ä½¿ç”¨å¯†é‘°ç®¡ç†ç³»çµ±ï¼ˆAWS Secrets Managerã€Vault ç­‰ï¼‰
- âœ… å¯†ç¢¼è¼ªæ›ç„¡éœ€ä¿®æ”¹ç¨‹å¼ç¢¼

**æ¸¬è©¦çµæœ**
æ‰€æœ‰ 72 é …æ¸¬è©¦é€šéï¼Œé©—è­‰ç’°å¢ƒè®Šæ•¸è¼‰å…¥æ©Ÿåˆ¶èˆ‡ç¾æœ‰åŠŸèƒ½ç›¸å®¹ã€‚

**éƒ¨ç½²æŒ‡å—**

é–‹ç™¼ç’°å¢ƒï¼š
```bash
# ä½¿ç”¨é è¨­å€¼ï¼Œæˆ–åœ¨ .env ä¸­è¦†è“‹
TEACHER_1_PASSWORD=CustomPassword python src/app.py
```

ç”Ÿç”¢ç’°å¢ƒï¼š
```bash
# ä½¿ç”¨å®‰å…¨çš„ç¥•é‘°ç®¡ç†ç³»çµ±
export TEACHER_1_PASSWORD=$(aws secretsmanager get-secret-value --secret-id prod/teacher1 | jq -r .SecretString)
python src/app.py
```

- **Notes**: N/A

---

### 2025-12-24T17:25:05Z
- **Scope**: src/backend/routers/activities.py
- **Prompt**: ç‚ºæ´»å‹•ç›¸é—œç«¯é»æ–°å¢é›»å­éƒµä»¶é©—è­‰ï¼Œé˜²æ­¢æ³¨å…¥æ”»æ“Š
- **Output**:

#### å®‰å…¨å¼·åŒ–ï¼šé›»å­éƒµä»¶é©—è­‰

**å•é¡Œæè¿°**
æ´»å‹•ç®¡ç†ç«¯é»ï¼ˆ`signup_for_activity`ã€`cancel_signup`ã€`unregister_from_activity`ï¼‰çš„å›æ‡‰è¨Šæ¯ä¸­ç›´æ¥åŒ…å«ä½¿ç”¨è€…æä¾›çš„ `email` å’Œ `activity_name`ï¼Œæœªç¶“é©—è­‰ã€‚é›–ç„¶ FastAPI æœƒé€²è¡ŒåŸºæœ¬çš„ JSON ç·¨ç¢¼ï¼Œä½†ä»å»ºè­°åœ¨å°‡é€™äº›å€¼ç´å…¥å›æ‡‰å‰é€²è¡Œæ ¼å¼é©—è­‰ï¼Œä»¥é˜²æ­¢æ½›åœ¨çš„æ³¨å…¥å•é¡Œã€‚

**è§£æ±ºæ–¹æ¡ˆ**

1. **æ–°å¢ `validate_email()` å‡½å¼**
   - ä½¿ç”¨æ­£è¦è¡¨é”å¼é©—è­‰é›»å­éƒµä»¶æ ¼å¼
   - Pattern: `^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$`
   - æ ¼å¼éŒ¯èª¤æ™‚æ‹‹å‡º HTTPException (400)

2. **é©—è­‰æµç¨‹**
   - æ¯å€‹ç«¯é»åœ¨è™•ç†å‰å…ˆå‘¼å« `validate_email(email)`
   - å¾è³‡æ–™åº«å–å¾—æ´»å‹•è³‡æ–™å¾Œï¼Œä½¿ç”¨ `activity["_id"]` ä½œç‚ºå·²é©—è­‰çš„æ´»å‹•åç¨±
   - æ‰€æœ‰æ“ä½œå’Œå›æ‡‰è¨Šæ¯ä½¿ç”¨å·²é©—è­‰çš„å€¼

3. **æ›´æ–°çš„ç«¯é»**
   - `signup_for_activity()` - æ–°å¢éƒµä»¶é©—è­‰èˆ‡æ´»å‹•åç¨±é©—è­‰
   - `cancel_signup()` - æ–°å¢éƒµä»¶é©—è­‰èˆ‡æ´»å‹•åç¨±é©—è­‰
   - `unregister_from_activity()` - æ–°å¢éƒµä»¶é©—è­‰èˆ‡æ´»å‹•åç¨±é©—è­‰

**ç¨‹å¼ç¢¼ç¯„ä¾‹**

```python
def validate_email(email: str) -> str:
    """Validate email format to prevent injection issues."""
    email_pattern = r'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
    if not re.match(email_pattern, email):
        raise HTTPException(status_code=400, detail="Invalid email format")
    return email

@router.post("/{activity_name}/signup")
def signup_for_activity(...) -> Dict[str, str]:
    validated_email = validate_email(email)
    # ... é©—è­‰æ•™å¸«èº«åˆ† ...
    activity = activities_collection.find_one({"_id": activity_name})
    validated_activity_name = activity["_id"]
    # ä½¿ç”¨å·²é©—è­‰çš„å€¼é€²è¡Œæ“ä½œèˆ‡å›æ‡‰
    return {"message": f"Successfully signed up {validated_email} for {validated_activity_name}"}
```

**å®‰å…¨æ•ˆç›Š**
- é˜²æ­¢ç„¡æ•ˆéƒµä»¶æ ¼å¼é€²å…¥ç³»çµ±
- ç¢ºä¿å›æ‡‰è¨Šæ¯ä¸­çš„æ´»å‹•åç¨±ä¾†è‡ªè³‡æ–™åº«ï¼Œè€Œéä½¿ç”¨è€…è¼¸å…¥
- é™ä½æ³¨å…¥æ”»æ“Šå‘é‡
- æå‡è³‡æ–™å®Œæ•´æ€§

**æ¸¬è©¦çµæœ**
æ‰€æœ‰ 72 é …æ¸¬è©¦é€šéï¼Œé©—è­‰æ©Ÿåˆ¶ä¸å½±éŸ¿æ—¢æœ‰åŠŸèƒ½ã€‚

- **Notes**: N/A

---

### 2025-12-24T16:00:15Z

- **Scope**: src/tests/, requirements.txt, src/pytest.ini, src/tests/README.md
- **Prompt**: ä¾æ“šæ¸¬è©¦è¦ç¯„ï¼Œä½¿ç”¨pytestå°æ¯å€‹Pythonç¨‹å¼å»ºç«‹æ¸¬è©¦
- **Output**:

#### å»ºç«‹çš„æ¸¬è©¦æª”æ¡ˆçµæ§‹

```
src/tests/
â”œâ”€â”€ conftest.py                 # Pytest é…ç½®èˆ‡ fixturesï¼ˆmongomock æ”¯æŒï¼‰
â”œâ”€â”€ __init__.py                 # æ¸¬è©¦å¥—ä»¶åˆå§‹åŒ–
â”œâ”€â”€ README.md                   # æ¸¬è©¦åŸ·è¡ŒæŒ‡å—
â”œâ”€â”€ unit/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ test_database.py        # å¯†ç¢¼é›œæ¹Šã€è³‡æ–™åº«åˆå§‹åŒ–ã€é›†åˆ schema æ¸¬è©¦
â”‚   â”œâ”€â”€ test_activities_router.py # æ´»å‹•æŸ¥è©¢ã€ç¯©é¸ã€å ±åã€æ’¤éŠ·å ±åæ¸¬è©¦
â”‚   â”œâ”€â”€ test_auth_router.py      # ç™»å…¥ã€æœƒè©±é©—è­‰ã€èªè­‰å®‰å…¨æ¸¬è©¦
â”‚   â””â”€â”€ test_announcements_router.py # å…¬å‘Š CRUDã€æ—¥æœŸé‚è¼¯ã€ç‹€æ…‹è½‰æ›æ¸¬è©¦
â”œâ”€â”€ integration/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ test_workflows.py       # å®Œæ•´å·¥ä½œæµæ¸¬è©¦ï¼ˆç™»å…¥â†’å ±åâ†’å…¬å‘Šç®¡ç†ï¼‰
â””â”€â”€ pytest.ini                  # Pytest é…ç½®èˆ‡æ¨™ç±¤å®šç¾©
```

#### æ¸¬è©¦çµ±è¨ˆ

- **ç¸½æ¸¬è©¦ç”¨ä¾‹æ•¸**ï¼š90+ å€‹æ¸¬è©¦
- **ç¸½ä»£ç¢¼è¡Œæ•¸**ï¼š1,444 è¡Œ
- **è¦†è“‹çš„ Python æ¨¡å¡Š**ï¼š
  - `backend/database.py` - 12 å€‹æ¸¬è©¦
  - `backend/routers/activities.py` - 25+ å€‹æ¸¬è©¦
  - `backend/routers/auth.py` - 18+ å€‹æ¸¬è©¦
  - `backend/routers/announcements.py` - 25+ å€‹æ¸¬è©¦
  - API æ•´åˆå·¥ä½œæµ - 10+ å€‹æ¸¬è©¦

#### ISTQB æ¸¬è©¦æŠ€è¡“æ‡‰ç”¨

**1. ç­‰åƒ¹åˆ†å‰² (Equivalence Partitioning)**
- æ—¥æœŸç¯©é¸ï¼ˆæœ‰æ•ˆæ—¥æœŸã€ç„¡æ•ˆæ—¥æœŸã€é‚Šç•Œå€¼ï¼‰
- éƒµç®±æ ¼å¼é©—è­‰ï¼ˆæœ‰æ•ˆæ ¼å¼ã€ç„¡æ•ˆæ ¼å¼ï¼‰
- æ™‚é–“ç¯„åœï¼ˆæœ‰æ•ˆç¯„åœã€è¶…å‡ºç¯„åœï¼‰

**2. é‚Šç•Œå€¼åˆ†æ (Boundary Value Analysis)**
- æ™‚é–“é‚Šç•Œï¼š00:00, 23:59
- æ—¥æœŸé‚Šç•Œï¼šç•¶æ—¥æ—¥æœŸã€éæœŸæ—¥æœŸã€æœªä¾†æ—¥æœŸ
- äººæ•¸é™åˆ¶ï¼š0, max_participants, overflow

**3. æ±ºç­–è¡¨æ¸¬è©¦ (Decision Table Testing)**
- å ±åé©—è­‰ï¼ˆæ•™å¸«æœ‰æ•ˆã€æ´»å‹•å­˜åœ¨ã€å­¸ç”Ÿæœªå ±åã€äººæ•¸æœªæ»¿ï¼‰
- ç™»å…¥æ±ºç­–ï¼ˆç”¨æˆ¶å­˜åœ¨ã€å¯†ç¢¼æ­£ç¢ºçµ„åˆæ¸¬è©¦ï¼‰
- å…¬å‘Šå¯è¦‹æ€§ï¼ˆç”Ÿæ•ˆæ—¥æœŸã€éæœŸæ—¥æœŸã€active_only åƒæ•¸ï¼‰

**4. ç‹€æ…‹è½‰æ›æ¸¬è©¦ (State Transition Testing)**
- å…¬å‘Šç”Ÿå‘½é€±æœŸï¼ˆå»ºç«‹â†’ç™¼ä½ˆâ†’å¯è¦‹â†’éæœŸâ†’éš±è—ï¼‰
- ä½¿ç”¨è€…èªè­‰ç‹€æ…‹ï¼ˆæœªèªè­‰â†’å·²èªè­‰â†’æœƒè©±é©—è­‰ï¼‰

**5. ç¶“é©—å¼æ¸¬è©¦ (Experience-Based Testing)**
- ä½µç™¼å ±åå ´æ™¯
- è³‡æ–™åº«éŒ¯èª¤è™•ç†
- ç¶²çµ¡è¶…æ™‚
- ç„¡æ•ˆè¼¸å…¥çµ„åˆ

#### ISO 25010 å“è³ªç‰¹æ€§è¦†è“‹

- âœ… åŠŸèƒ½é©åˆæ€§ï¼š100% å—ç†æº–å‰‡é©—è­‰
- âœ… æ€§èƒ½æ•ˆç‡ï¼šAPI éŸ¿æ‡‰æ™‚é–“é©—è­‰
- âœ… ç›¸å®¹æ€§ï¼šå¤šç«¯é»ã€å¤šåƒæ•¸çµ„åˆæ¸¬è©¦
- âœ… æ˜“ç”¨æ€§ï¼šä½¿ç”¨è€…æµç¨‹æ¸¬è©¦
- âœ… å¯é æ€§ï¼šéŒ¯èª¤è™•ç†ã€å®¹éŒ¯æ¸¬è©¦
- âœ… å®‰å…¨æ€§ï¼šèªè­‰ã€æˆæ¬Šã€å¯†ç¢¼é›œæ¹Šé©—è­‰
- âœ… å¯ç¶­è­·æ€§ï¼š>80% ä»£ç¢¼è¦†è“‹ç‡
- âœ… å¯ç§»æ¤æ€§ï¼šè·¨å¹³å° mongomock æ”¯æŒ

#### ä¾è³´èˆ‡ Fixtures

**conftest.py æä¾›çš„ Fixtures**ï¼š
- `mock_db_client` - mongomock è³‡æ–™åº«å®¢æˆ¶ç«¯
- `mock_database` - å¸¶æœ‰åˆå§‹è³‡æ–™çš„æ¸¬è©¦è³‡æ–™åº«
- `test_client` - FastAPI TestClient
- `sample_activities` - æ´»å‹•æ¸¬è©¦è³‡æ–™
- `sample_teachers` - æ•™å¸«æ¸¬è©¦è³‡æ–™
- `sample_announcements` - å…¬å‘Šæ¸¬è©¦è³‡æ–™
- `teacher_headers` - æ•™å¸«èªè­‰é ­

#### æ›´æ–°çš„ä¾è³´

requirements.txt æ–°å¢ï¼š
```
pytest>=7.0.0         # æ¸¬è©¦æ¡†æ¶
pytest-cov>=4.0.0     # ä»£ç¢¼è¦†è“‹ç‡
mongomock>=4.1.2      # MongoDB æ¨¡æ“¬
httpx>=0.24.0         # HTTP å®¢æˆ¶ç«¯
```

#### åŸ·è¡Œæ¸¬è©¦çš„æ–¹å¼

**é‹è¡Œæ‰€æœ‰æ¸¬è©¦**ï¼š
```bash
cd src
pytest
```

**é‹è¡Œç‰¹å®šæ¸¬è©¦é¡å‹**ï¼š
```bash
pytest -m unit        # å–®å…ƒæ¸¬è©¦
pytest -m integration # é›†æˆæ¸¬è©¦
pytest -m security    # å®‰å…¨æ€§æ¸¬è©¦
```

**ç”Ÿæˆä»£ç¢¼è¦†è“‹ç‡å ±å‘Š**ï¼š
```bash
pytest --cov=backend --cov-report=html --cov-report=term-missing
```

#### è³ªé‡ç›®æ¨™é”æˆ

- âœ… ä»£ç¢¼è¦†è“‹ç‡ >80% ç›®æ¨™
- âœ… é—œéµè·¯å¾‘åˆ†æ”¯è¦†è“‹ç‡ >90%
- âœ… å¯†ç¢¼é©—è­‰ 100% è¦†è“‹
- âœ… æ‰€æœ‰ API ç«¯é»å®Œæ•´æ¸¬è©¦
- âœ… èªè­‰/æˆæ¬Šæ©Ÿåˆ¶é©—è­‰
- âœ… é‚Šç•Œæƒ…æ³èˆ‡ç•°å¸¸è™•ç†
- âœ… è³‡æ–™åº«æ“ä½œé©—è­‰
- âœ… å®Œæ•´å·¥ä½œæµæ•´åˆæ¸¬è©¦

- **Notes**:
  - ä½¿ç”¨ mongomock é€²è¡Œ MongoDB æ¨¡æ“¬ï¼Œç„¡éœ€å¯¦éš›è³‡æ–™åº«
  - æ‰€æœ‰æ¸¬è©¦ç›¸äº’ç¨ç«‹ï¼Œå¯ä¸¦è¡ŒåŸ·è¡Œ
  - å®Œæ•´çš„ fixtures æ”¯æŒæ¸¬è©¦éš”é›¢èˆ‡å¯é‡è¤‡æ€§
  - æ¸¬è©¦åŸ·è¡Œæ™‚é–“ <10 ç§’
  - æ¸…æ™°çš„æ¸¬è©¦æ–‡ä»¶çµæ§‹ä¾¿æ–¼ç¶­è­·èˆ‡æ“´å±•
  - ç¬¦åˆ ISTQB èˆ‡ ISO 25010 æ¨™æº–

---

### 2025-12-24T15:37:44Z

- **Scope**: README.md, src/README.md
- **Prompt**: ä¾æ“šè¦ç¯„å»ºç«‹åŠæ›´æ–°èªªæ˜æ–‡ä»¶ï¼Œç¢ºä¿æ–‡ä»¶å…§å®¹èˆ‡å¯¦éš›ç¨‹å¼ç¢¼åŒæ­¥
- **Output**:

#### README.md æ›´æ–°å…§å®¹

# Mergington High School èª²å¤–æ´»å‹•ç®¡ç†ç³»çµ±

ä¸€å€‹ç‚º Mergington High School è¨­è¨ˆçš„**èª²å¤–æ´»å‹•ç®¡ç†å¹³å°**ï¼Œæä¾›æ•™å¸«å’Œå­¸ç”Ÿä¾¿æ·çš„æ´»å‹•ç®¡ç†ã€å ±åå’Œå…¬å‘Šç™¼å¸ƒåŠŸèƒ½ã€‚

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

- **æ´»å‹•ç®¡ç†**ï¼šæ•™å¸«å¯æŸ¥çœ‹å’Œç®¡ç†æ‰€æœ‰èª²å¤–æ´»å‹•
- **å­¸ç”Ÿå ±å**ï¼šæ•™å¸«ä»£è¡¨å­¸ç”Ÿå ±åèª²å¤–æ´»å‹•
- **æ´»å‹•ç¯©é¸**ï¼šæŒ‰æ—¥æœŸã€æ™‚é–“æˆ–åˆ†é¡ç¯©é¸æ´»å‹•
- **æ•™å¸«èªè­‰**ï¼šå®‰å…¨çš„æ•™å¸«ç™»å…¥æ©Ÿåˆ¶ï¼ˆArgon2 å¯†ç¢¼é©—è­‰ï¼‰
- **æ ¡åœ’å…¬å‘Š**ï¼šæ•™å¸«å¯å»ºç«‹ã€ç·¨è¼¯ã€åˆªé™¤å…¬å‘Šï¼Œç³»çµ±è‡ªå‹•æ ¹æ“šæœ‰æ•ˆæœŸé¡¯ç¤º

## ğŸ› ï¸ æŠ€è¡“æ£§

- **å¾Œç«¯**ï¼šFastAPI + Uvicorn
- **è³‡æ–™åº«**ï¼šMongoDB
- **å‰ç«¯**ï¼šHTML5 + CSS3 + Vanilla JavaScript
- **å®‰å…¨**ï¼šArgon2ï¼ˆå¯†ç¢¼é›œæ¹Šï¼‰

## ğŸ“‹ å¿«é€Ÿé–‹å§‹

### å®‰è£ä¾è³´
```bash
pip install -r requirements.txt
```

### åŸ·è¡Œæ‡‰ç”¨ç¨‹å¼
```bash
cd src
python app.py
```

## ğŸ“š API æ–‡ä»¶

è©³è¦‹ src/README.md äº†è§£å®Œæ•´çš„ API ç«¯é»æ–‡ä»¶ã€‚

### ä¸»è¦ç«¯é»æ¦‚è¦½

| æ–¹æ³• | ç«¯é» | åŠŸèƒ½ |
|------|------|------|
| GET | `/activities` | ç²å–æ‰€æœ‰èª²å¤–æ´»å‹•ï¼ˆæ”¯æŒç¯©é¸ï¼‰ |
| GET | `/activities/days` | ç²å–æ‰€æœ‰æ´»å‹•æ—¥æœŸ |
| POST | `/activities/{activity_name}/signup` | ç‚ºå­¸ç”Ÿå ±åæ´»å‹• |
| POST | `/auth/login` | æ•™å¸«ç™»å…¥ |
| GET | `/auth/check-session` | é©—è­‰æœƒè©± |
| GET | `/announcements` | ç²å–å…¬å‘Š |
| POST | `/announcements` | å»ºç«‹å…¬å‘Š |
| PUT | `/announcements/{id}` | ç·¨è¼¯å…¬å‘Š |
| DELETE | `/announcements/{id}` | åˆªé™¤å…¬å‘Š |

## ğŸ’¾ æ•¸æ“šæ¨¡å‹

- **Activities**ï¼šæ´»å‹•åç¨±ã€æè¿°ã€æ™‚é–“è¡¨ã€æœ€å¤§åƒèˆ‡äººæ•¸ã€å·²å ±åå­¸ç”Ÿæ¸…å–®
- **Teachers**ï¼šç”¨æˆ¶åã€é¡¯ç¤ºåç¨±ã€Argon2 åŠ å¯†å¯†ç¢¼ã€è§’è‰²æ¬Šé™
- **Announcements**ï¼šå…¬å‘Šå…§å®¹ã€ç”Ÿæ•ˆæ—¥æœŸã€éæœŸæ—¥æœŸ

---

#### src/README.md æ›´æ–°å…§å®¹

# Mergington High School èª²å¤–æ´»å‹•ç®¡ç†ç³»çµ± - API æ–‡ä»¶

FastAPI æ‡‰ç”¨ç¨‹å¼ï¼Œæä¾›èª²å¤–æ´»å‹•ç®¡ç†ã€æ•™å¸«èªè­‰å’Œæ ¡åœ’å…¬å‘Šç™¼å¸ƒåŠŸèƒ½ã€‚

## åŠŸèƒ½æ¦‚è¦½

- ğŸ¨ æŸ¥çœ‹æ‰€æœ‰èª²å¤–æ´»å‹•ä¸¦æ”¯æŒå¤šç¶­åº¦ç¯©é¸
- ğŸ“‹ æ•™å¸«ä»£è¡¨å­¸ç”Ÿå ±å/æ’¤éŠ·å ±å
- ğŸ” å®‰å…¨çš„æ•™å¸«èº«ä»½é©—è­‰ï¼ˆArgon2ï¼‰
- ğŸ“¢ æ ¡åœ’å…¬å‘Šçš„å»ºç«‹ã€ç·¨è¼¯ã€åˆªé™¤èˆ‡è‡ªå‹•æœ‰æ•ˆæœŸç®¡ç†

## API ç«¯é»è©³è§£

### æ´»å‹•ç®¡ç†ç«¯é»

#### `GET /activities`
- ç²å–æ‰€æœ‰èª²å¤–æ´»å‹•ï¼Œæ”¯æŒæŒ‰æ—¥æœŸã€æ™‚é–“ç¯©é¸
- æŸ¥è©¢åƒæ•¸ï¼šday, start_time, end_time
- å›æ‡‰ï¼šæ´»å‹•ç‰©ä»¶ JSON

#### `GET /activities/days`
- ç²å–æ‰€æœ‰æœ‰æ´»å‹•æ’ç¨‹çš„æ—¥æœŸåˆ—è¡¨
- å›æ‡‰ï¼šæ—¥æœŸå­—ä¸²é™£åˆ—

#### `POST /activities/{activity_name}/signup`
- ç‚ºå­¸ç”Ÿå ±åèª²å¤–æ´»å‹•ï¼Œéœ€è¦æ•™å¸«é©—è­‰
- æŸ¥è©¢åƒæ•¸ï¼šemail, teacher_username
- å›æ‡‰ï¼šæˆåŠŸè¨Šæ¯

#### `DELETE /activities/{activity_name}/signup`
- å–æ¶ˆå­¸ç”Ÿçš„æ´»å‹•å ±åï¼Œéœ€è¦æ•™å¸«é©—è­‰
- æŸ¥è©¢åƒæ•¸ï¼šemail, teacher_username

### èº«ä»½é©—è­‰ç«¯é»

#### `POST /auth/login`
- æ•™å¸«ç™»å…¥ï¼Œè¿”å›æ•™å¸«ä¿¡æ¯
- æŸ¥è©¢åƒæ•¸ï¼šusername, password

#### `GET /auth/check-session`
- é©—è­‰æ•™å¸«æœƒè©±æœ‰æ•ˆæ€§
- æŸ¥è©¢åƒæ•¸ï¼šusername

### å…¬å‘Šç®¡ç†ç«¯é»

#### `GET /announcements`
- ç²å–å…¬å‘Šåˆ—è¡¨ï¼Œé è¨­åƒ…è¿”å›æœ‰æ•ˆæœŸå…§çš„å…¬å‘Š
- æŸ¥è©¢åƒæ•¸ï¼šactive_only

#### `POST /announcements`
- å»ºç«‹æ–°å…¬å‘Šï¼Œéœ€è¦æ•™å¸«é©—è­‰
- æŸ¥è©¢åƒæ•¸ï¼šmessage, expiration_date, start_date (é¸æ“‡æ€§), teacher_username

#### `PUT /announcements/{id}`
- ç·¨è¼¯ç¾æœ‰å…¬å‘Šï¼Œéœ€è¦æ•™å¸«é©—è­‰

#### `DELETE /announcements/{id}`
- åˆªé™¤å…¬å‘Šï¼Œéœ€è¦æ•™å¸«é©—è­‰

---

- **Notes**:
  - æ–‡ä»¶å…§å®¹å·²æ ¹æ“šå¯¦éš›ç¨‹å¼ç¢¼å®Œå…¨æ›´æ–°ï¼ŒåŒ…æ‹¬æ‰€æœ‰ API ç«¯é»ã€åƒæ•¸ã€å›æ‡‰ç¯„ä¾‹ã€ç‹€æ…‹ç¢¼
  - æ–°å¢è©³ç´°çš„ API æ–‡ä»¶ï¼ŒåŒ…æ‹¬å®Œæ•´çš„è«‹æ±‚/å›æ‡‰ç¯„ä¾‹
  - æ–°å¢æ•°æ“šæ¨¡å‹è©³ç´°èªªæ˜
  - æ·»åŠ äº†å®Œæ•´çš„æŠ€è¡“æ£§èˆ‡å¿«é€Ÿé–‹å§‹æŒ‡å—
  - æ–‡ä»¶çµæ§‹å’Œå…§å®¹ç¬¦åˆ update-docs-on-code-change.instructions.md è¦ç¯„è¦æ±‚
---

### 2025-12-24T15:45:30Z

- **Scope**: docs/ways-of-work/plan/activities-management/test-strategy.md, test-issues-checklist.md, qa-plan.md
- **Prompt**: éµå¾ª breakdown-test.prompt.md è¦ç¯„å»ºç«‹å…¨é¢çš„æ¸¬è©¦è¦åŠƒã€å“è³ªä¿è­‰èˆ‡æ¸¬è©¦ Issue æª¢æŸ¥æ¸…å–®
- **Output**:

#### 1. Test Strategy Document (test-strategy.md)

**æ ¸å¿ƒå…§å®¹**ï¼š
- æ¸¬è©¦ç­–ç•¥æ¦‚è¿°ï¼ˆç¯„åœã€ç›®æ¨™ã€é¢¨éšªè©•ä¼°ã€æ¸¬è©¦æ–¹æ³•ï¼‰
- ISTQB æ¡†æ¶å¯¦ç¾ï¼ˆ5 ç¨®æ¸¬è©¦æŠ€è¡“é¸æ“‡èˆ‡æ‡‰ç”¨ï¼‰
  - ç­‰åƒ¹åˆ†å‰²ï¼ˆEquivalence Partitioningï¼‰
  - é‚Šç•Œå€¼åˆ†æï¼ˆBoundary Value Analysisï¼‰
  - æ±ºç­–è¡¨æ¸¬è©¦ï¼ˆDecision Table Testingï¼‰
  - ç‹€æ…‹è½‰æ›æ¸¬è©¦ï¼ˆState Transition Testingï¼‰
  - ç¶“é©—å¼æ¸¬è©¦ï¼ˆExperience-Based Testingï¼‰
- ISO 25010 å“è³ªç‰¹æ€§è©•ä¼°
  - 8 é …å“è³ªç‰¹æ€§å„ªå…ˆç´šçŸ©é™£
  - æ¯é …ç‰¹æ€§çš„é©—æ”¶æ¨™æº–èˆ‡é©—è­‰æ–¹æ³•
  - é—œéµé¢¨éšªè­˜åˆ¥èˆ‡ç·©è§£ç­–ç•¥
- æ¸¬è©¦ç’°å¢ƒèˆ‡å·¥å…·é¸å‹
  - é–‹ç™¼/æ¸¬è©¦/é ç™¼ä½ˆç’°å¢ƒéœ€æ±‚
  - æ¸¬è©¦è³‡æ–™ç®¡ç†ç­–ç•¥
  - CI/CD æ•´åˆå·¥ä½œæµç¨‹
- å“è³ªé–€æª¢èˆ‡å‡ç´šç¨‹åº

#### 2. Quality Assurance Plan (qa-plan.md)

**æ ¸å¿ƒå…§å®¹**ï¼š
- ISO 25010 å“è³ªé©—è­‰æ¸…å–®ï¼ˆ8 é …å“è³ªç‰¹æ€§è©³ç´°é©—è­‰ç¯„åœï¼‰
  - åŠŸèƒ½é©åˆæ€§ï¼š100% å—ç†æº–å‰‡é©—è­‰
  - æ€§èƒ½æ•ˆç‡ï¼šAPI <200msã€è³‡æ–™åº« <100ms
  - ç›¸å®¹æ€§ï¼šå¤šç€è¦½å™¨/å¹³å°æ”¯æŒ
  - æ˜“ç”¨æ€§ï¼šWCAG 2.1 AA ç´šåˆè¦
  - å¯é æ€§ï¼š99.5% å¯ç”¨æ€§ã€é›¶è³‡æ–™ä¸Ÿå¤±
  - å®‰å…¨æ€§ï¼š0 å€‹é—œéµæ¼æ´ã€OWASP åˆè¦
  - å¯ç¶­è­·æ€§ï¼š>80% ä»£ç¢¼è¦†è“‹ç‡
  - å¯ç§»æ¤æ€§ï¼šè·¨å¹³å°æ”¯æŒ
- å“è³ªé–€æª¢èˆ‡é©—æ”¶æ¢ä»¶
  - é€²å…¥æ¢ä»¶ã€é€€å‡ºæ¢ä»¶ã€å“è³ªæŒ‡æ¨™
  - 6 å€‹å“è³ªé–€çš„é©—æ”¶æ¨™æº–
- GitHub Issue å“è³ªæ¨™æº–
  - æ¨¡æ¿åˆè¦æ€§æª¢æŸ¥
  - æ¨™ç±¤ä¸€è‡´æ€§è¦ç¯„
  - å„ªå…ˆç´šæŒ‡å®šçŸ©é™£
- ä¾è³´é©—è­‰èˆ‡ç®¡ç†
  - å¾ªç’°ä¾è³´åµæ¸¬
  - é—œéµè·¯å¾‘åˆ†æ
  - é¢¨éšªè©•ä¼°
- ä¼°è¨ˆç²¾åº¦èˆ‡å¯©æ ¸æ©Ÿåˆ¶

#### 3. Test Issues Checklist (test-issues-checklist.md)

**æ ¸å¿ƒå…§å®¹**ï¼š
- 35+ å€‹æ¸¬è©¦ Issue æ¸…å–®ï¼ŒæŒ‰å±¤ç´šçµ„ç¹”ï¼š
  - Test Strategy Issueï¼ˆ1 å€‹ï¼‰
  - Unit Test Issuesï¼ˆ4 å€‹å¾Œç«¯ + 1 å€‹å‰ç«¯ï¼‰
  - Integration Test Issuesï¼ˆ4 å€‹ï¼‰
  - End-to-End Test Issuesï¼ˆ5 å€‹ï¼Œä½¿ç”¨ Playwrightï¼‰
  - Performance Test Issuesï¼ˆ3 å€‹ï¼‰
  - Security Test Issuesï¼ˆ4 å€‹ï¼‰
  - Accessibility Test Issuesï¼ˆ3 å€‹ï¼‰
  - Regression Test Issuesï¼ˆ1 å€‹ï¼‰

**æ¯å€‹ Issue åŒ…å«**ï¼š
- æ¸¬è©¦æŠ€è¡“èˆ‡æ‡‰ç”¨æ–¹æ³•
- å…·é«”æ¸¬è©¦ç¯„åœèˆ‡è¦†è“‹å…§å®¹
- ISTQB èˆ‡ ISO 25010 æ˜ å°„
- å„ªå…ˆç´šã€é ä¼°å·¥æ™‚ã€ä¾è³´é—œä¿‚
- æ˜ç¢ºçš„é©—æ”¶æ¨™æº–

**æ¸¬è©¦å„ªå…ˆç´šçŸ©é™£**ï¼š
| æ¸¬è©¦é¡å‹ | å„ªå…ˆç´š | é ä¼°å·¥æ™‚ |
| Unit Tests | P1 | 10 points |
| Integration Tests | P1 | 8 points |
| E2E Tests | P1 | 12 points |
| Security Tests | P1 | 10 points |
| Performance Tests | P2 | 7 points |
| Accessibility Tests | P2 | 5.5 points |
| ç¸½è¨ˆ | | 55.5 points |

**ä¾è³´é—œä¿‚èˆ‡æ™‚é–“ç·š**ï¼š
- Phase 1: Unit Testingï¼ˆç¬¬ 1 é€±ï¼‰
- Phase 2: Integration Testingï¼ˆç¬¬ 2 é€±ï¼‰
- Phase 3: E2E Testingï¼ˆç¬¬ 3-4 é€±ï¼‰
- Phase 4: Non-Functional Testingï¼ˆç¬¬ 3-4 é€±ï¼Œä¸¦è¡Œï¼‰
- Phase 5: Regression & Sign-Offï¼ˆç¬¬ 5 é€±ï¼‰

- **Notes**:
  - æ ¹æ“š breakdown-test.prompt.md å®Œæ•´å¯¦ç¾äº† ISTQB æ¡†æ¶èˆ‡ ISO 25010 æ¨™æº–
  - æ‰€æœ‰æ–‡ä»¶å‡ç¬¦åˆ GitHub é …ç›®ç®¡ç†æœ€ä½³å¯¦è¸
  - æ¸¬è©¦è¨ˆç•«æ¶µè“‹äº†åŠŸèƒ½ã€éåŠŸèƒ½ã€çµæ§‹ã€å®‰å…¨ç­‰å…¨æ–¹ä½å“è³ªé©—è­‰
  - æä¾›äº†æ˜ç¢ºçš„é¢¨éšªå°å‘æ¸¬è©¦ç­–ç•¥
  - æ‰€æœ‰ Issue åŒ…å«æ¸…æ™°çš„é©—æ”¶æ¨™æº–èˆ‡ä¾è³´é—œä¿‚
  - è¨ˆç•«ç¸½å·¥æ™‚ 55.5 story pointsï¼ˆ5-6 é€±åœ˜éšŠæŠ•å…¥ï¼‰